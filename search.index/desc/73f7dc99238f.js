rd_("AeColor for h1 headingsAeColor for h2 headingsAeColor for h3 headingsAeColor for h4 headingsAeColor for h5 headingsAeColor for h6 headingsAjColor for horizontal rulesBjSet the destination/recipient of the entryCfEnable all debug features (request_log, response_meta)Cfchibi - A CLI tool for chatting with AI via OpenRouterBhCore VFS router and permission enforcer.0C`Resolved API parameters (merged from all layers)AjAPI module for chibi-core.BnAPI parameters (temperature, max_tokens, etc.)0BfAPI parameters for this specific model3BaThe underlying application state.0AoCLI argument parsing with clap.BdLook up a cached summary for a tool.CdMCP bridge client \xe2\x80\x94 connects chibi-core to the \xe2\x80\xa6AnCreates a new markdown stream.CgCreate a new output handler without markdown rendering.AoCreate a new CLI response sink.AmCreate a new collecting sink.BkCreate a new message with auto-generated IDBnCreate a new empty context with the given nameBbDefault metadata for regular toolsCiCreate a new local backend rooted at the given directory.CaCreate a new VFS path, validating all invariants.BlCreate a new VFS wrapping the given backend.BgDisable markdown rendering (raw output)CjDisable markdown rendering (CLI-only presentation concern)ClOverride a config value for this invocation (repeatable, \xe2\x80\xa6AmStore a summary in the cache.AcVCS root detection.CfVirtual file system: sandboxed, shared storage for \xe2\x80\xa6AkShared virtual file system.CkGlobal VFS configuration. Not in ResolvedConfig \xe2\x80\x94 the \xe2\x80\xa6BeVfs: the permission-enforcing router.BmNo operation - context switch only, no actionBkNo side effects requiring binary attention.C`URL points to public internet \xe2\x80\x94 safe to fetch.BoRepresents a tool that can be called by the LLMAfReturn control to user0BeSimple non-streaming chat completion.CkCopy a file. Caller must have read on src and write on dst.CkCopy a file from src to dst. Both paths are within this \xe2\x80\xa6BgCore configuration (API, storage, etc.)BfFilter by file path (substring match).CjPath to the partition file, relative to context directory.AoReturns the argument unchanged.0000000000000000000000000000000000000000000000000000000000000000BbSet the source/sender of the entry11111111111111111111111111111111111111111111111111111111111111DjTotal fuel budget for the agentic loop. <code>0</code> means unlimited \xe2\x80\xa6ChTotal fuel budget for the agentic loop (tool rounds, \xe2\x80\xa6DaPer-context fuel budget override. <code>0</code> means unlimited.2iShow helpChOverride chibi home directory (default: ~/.chibi, or \xe2\x80\xa6EhOverride the chibi home directory. If <code>None</code>, uses <code>CHIBI_HOME</code>\xe2\x80\xa60AmChibi home directory overrideAgInitialize the session.BaCalls <code>U::from(self)</code>.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BdJoin a relative path onto this path.ClFilter by symbol kind (exact match, e.g. \xe2\x80\x9cfunction\xe2\x80\x9d, \xe2\x80\xa6CjList entries in a directory. Returns empty vec if path \xe2\x80\xa6DbLoad session from <code>session.json</code> in the given chibi \xe2\x80\xa6CdLoad AppState with optional home directory override.BgLoad chibi from default home directory.CnLoad cache from disk, or create an empty cache if the file \xe2\x80\xa6DoLoad config from <code>&lt;home&gt;/mcp-bridge.toml</code>, falling back to \xe2\x80\xa6CjFilter by symbol name (substring match, case-insensitive).CfVFS path newtype: the only way to address VFS content.BaRead the full contents of a file.DgSave session to <code>session.json</code> in the given chibi directory.CcSave state (current context, context list) to disk.B`Save the cache to disk as JSONL.BfRandom seed for deterministic samplingBbMain prompt sending functionality.BoCLI-specific response sink for terminal output.CeResponse sink abstraction for decoupling API from \xe2\x80\xa6nStop sequencesCmTake the handoff decision, resetting to fallback for next \xe2\x80\xa6BkAccumulated text content from the response.AlContinue with LLM processing0BfHigh-level facade for chibi embedding.0CaDefault model: ratatoskr free-tier agentic presetCjLocal server spawned as a child process (stdio transport).ChBuild the TranscriptEntry with auto-generated ID and \xe2\x80\xa6BlSummary cache with schema-hash invalidation.BfHigh-level facade for embedding chibi.CgEnable debug features (request-log, response-meta, all)AhDebug features to enableCjArbitrary per-invocation key-value overrides (freeform \xe2\x80\xa60A`Behavioral flagsoExecution flagsBlRe-index all files regardless of mtime/size.BhHook system for plugin lifecycle events.CdImage rendering, fetching, and caching configurationBmInbox operations for inter-context messaging.CeCodebase index \xe2\x80\x94 schema, file walker, and query \xe2\x80\xa6CeCLI-specific input types for context and username \xe2\x80\xa6CaUnified input types for CLI and JSON input modes.AkJSONL read/write utilities.AjMaximum results to return.BeLocal filesystem backend for the VFS.DhMerges another config, preferring <code>other</code>\xe2\x80\x99s values when \xe2\x80\xa6BkCreate a directory (and parents if needed).BnModel override (uses parent\xe2\x80\x99s model if None)CaParse CLI arguments and return unified ChibiInputBfPath computation methods for AppState.BgQuery interface for the codebase index.BoQueues the given command for further execution.AlResets state after rotation.AmApplication state management.CdTool filtering configuration (include/exclude lists)BnLoaded tools (plugins from ~/.chibi/plugins/).0BgGlobal tool filtering configuration \xe2\x80\xa622AiTools and plugins module.AjNucleus sampling parameterBkUpdate last_activity_at to the current timeCfWrite current Unix timestamp to the lock file (atomic)CgTrust mode: auto-approve all permission checks (for \xe2\x80\xa6BhVFS data types shared across the module.CkWrite (create or overwrite) a file with the given contents.CjDispatches incoming requests to the appropriate server \xe2\x80\xa6CmGlobal config from ~/.chibi/config.toml Note: This is the \xe2\x80\xa6BfA reference row returned from a query.AnSwitch to a named context (-c)BhCached state about the active partition.CnAppend data to an existing file, creating it if it doesn\xe2\x80\x99\xe2\x80\xa6AkThe path as a string slice.AmColor for list bullet markersCbCLI-specific configuration types for presentation.AfStorage configuration.BcCore configuration types for chibi.CiTyped config overrides (same semantics as local.toml, \xe2\x80\xa6DfDelete a file. Returns <code>NotFound</code> if the path doesn\xe2\x80\x99t \xe2\x80\xa6CeEffort level (mutually exclusive with max_tokens) \xe2\x80\xa6BmUnix timestamp of the last entry (inclusive).AlCheck whether a path exists.CgFlush remaining partial line buffer. Call at end of \xe2\x80\xa6AhHandle a response event.ChCheck if a source string is a URL (http:// or https://).AlOutput handling for the CLI.CfParent path, or <code>None</code> if this is the root.ClRun a plugin directly (-p NAME \xe2\x80\x9cARGS\xe2\x80\x9d) For args with \xe2\x80\xa6CnPreset capability name (e.g. \xe2\x80\x9cfast\xe2\x80\x9d, \xe2\x80\x9creasoning\xe2\x80\x9d). \xe2\x80\xa6CnThe prompt to send (all remaining arguments) Note: Use \xe2\x80\x93 \xe2\x80\xa6ClRename (move) a file. Caller must have write on both src \xe2\x80\xa6ChRename (move) a file from src to dst. Both paths are \xe2\x80\xa6BhForces rotation of the active partition.CiDatabase schema and migration system for the codebase \xe2\x80\xa6BgSearches for entries containing a term.CjPath is under an allowed directory \xe2\x80\x94 proceed without \xe2\x80\xa6CgWhat operation to perform (mutually exclusive commands)CeUse the implied context from session.json (no switch)CgTracks handoff decision during tool execution. Last \xe2\x80\xa60AiInspect something (-n/-N)BiExtension trait for JSON value extractionCiA newline should be emitted (typically after response \xe2\x80\xa6B`Incoming request from chibi-coreC`Session state persisted between CLI invocations.AhShow log entries (-g/-G)CgA single rule entry \xe2\x80\x94 preset category or URL glob \xe2\x80\xa6BkOpaque path within the virtual file system.CnAcquire a lock for the given context directory. If a stale \xe2\x80\xa6ClAcquire an exclusive lock on the given path, blocking if \xe2\x80\xa6DdAPI key for the provider. <code>None</code> = keyless (free-tier \xe2\x80\xa60CeBackend name. Currently only \xe2\x80\x9clocal\xe2\x80\x9d is built in.BkVFS backend trait: the storage abstraction.CdCreate a builder for constructing transcript entriesBaBuilt-in tools provided by chibi.B`Background color for code blocksAfThe command to execute0AmContext compaction functions.CePrompt the user for confirmation. Returns true if \xe2\x80\xa6AlSet the content of the entryAaContext selectionCcContext name \xe2\x80\x93 required, no \xe2\x80\x9ccurrent\xe2\x80\x9d conceptCnOptional default value (for integer defaults only, as used \xe2\x80\xa6ClFallback action when no rule matches (default: allow for \xe2\x80\xa6CmExplicitly enable reasoning (defaults to medium effort if \xe2\x80\xa6CbTranscript entries emitted during the interaction.AaMatching entries.BnEntry creation helpers for transcript entries.ChExclude reasoning from response (model still reasons \xe2\x80\xa6BdBlocklist - these tools are excludedBdExecutes the given command directly.BcGateway abstraction over ratatoskr.CnGet a string value, returning None if key missing or not a \xe2\x80\xa6CkGet a u64 value, returning None if key missing or not a \xe2\x80\xa6CcAllowlist - only these tools are available (if set)CeFile walker and index updater for the codebase index.CbInspect specified context (requires CTX and THING)CgDebug logging utilities for API requests and responses.CmDebug: render a markdown file and quit (CLI-only, from \xe2\x80\x93\xe2\x80\xa6AbEmit a blank line.DhOpen (or create) the index database at <code>path</code>, enable WAL \xe2\x80\xa6AmMap a VFS path to an OS path.AmPlugin loading and execution.CeSystem prompt and content file handling for AppState.AoAPI request building utilities.ChSafe file I/O utilities: atomic writes and file locking.CeStorage configuration for partitioned context storage0BkPer-context storage configuration overrides1CiSummary of conversation history (loaded from separate \xe2\x80\xa6BfSummary content for compaction anchorsCbLLM-powered tool summary generation via ratatoskr.BdShow extra info (tools loaded, etc.)AhShow verbose diagnosticsChShow verbose diagnostics (hook debug, fuel status, etc.)AiPrint progress to stderr.lShow versionBiSchema version for forward compatibility.AiCall a tool directly (-P)AbDebug feature keysBkRAII file lock using fs2 exclusive locking.BaThe response stream has finished.CeExtension-to-language mapping. Hardcoded for now; \xe2\x80\xa6BoManifest tracking all partitions for a context.CgModel saved to local.toml for a context (verbose-tier).ChA no-op output sink for call sites that don\xe2\x80\x99t need \xe2\x80\xa6AoOutgoing response to chibi-coreCcSet model for a context (-m/\xe2\x80\x93set-model, -M/\xe2\x80\x93\xe2\x80\xa6iShow helpB`Tool info returned by list_toolsBoTool type classification for pre_api_tools hookBoA single entry returned by a directory listing.BgCreate ApiParams with sensible defaultsAjColor for footnote markersDaParse a <code>vfs:///path</code> URI into a <code>VfsPath</code>.ClGet a bool value, returning None if key missing or not a \xe2\x80\xa6BbGet the chibi home directory path.BgCheck if this config has any values setClCheck if a lock file is stale (older than 1.5x heartbeat \xe2\x80\xa6AnJSON value extraction helpers.AcColor for link URLsAgCurrent manifest state.CkConversation messages as JSON values. Each value has at \xe2\x80\xa6AjSet metadata for the entryCjOptional metadata for anchor entries (summary, hash, etc.)AhGet metadata for a path.CnCan this tool run in parallel with others? (default: true) \xe2\x80\xa6CiSecurity utilities for path validation and URL safety \xe2\x80\xa6BlShow last N log entries (requires CTX and N)AoShow log entries for a context.AeShutdown the session.BnUnix timestamp of the first entry (inclusive).AlConvert to ChibiInput formatChTokenizes text into lowercase words for search indexing.ChTry to read AGENTS.md from a directory; fall back to \xe2\x80\xa6CgAPI parameters that can be configured at various levelsChBoxed, Send future \xe2\x80\x94 matches the backend trait\xe2\x80\x99s \xe2\x80\xa6CjBoxed, Send future \xe2\x80\x94 the return type for all backend \xe2\x80\xa6BnResolved CLI config with all fields populated.CfUse a context ephemerally (-C) \xe2\x80\x94 does NOT update \xe2\x80\xa6BmEphemeral username (-U): this invocation onlyCcDescribes which fuel-related moment triggered a \xe2\x80\xa6CnHook filter/modification/override debug info (verbose-tier \xe2\x80\xa6CaHook points where tools can register to be called0CfJSON-mode input \xe2\x80\x93 read from stdin, stateless per \xe2\x80\xa6CnA single schema migration. Migrations are applied in order \xe2\x80\xa6ClA chunk of thinking/reasoning content from the streaming \xe2\x80\xa6AjRun a plugin directly (-p)CiURL points to a sensitive target \xe2\x80\x94 requires permission.BcA symbol row returned from a query.CdA chunk of text content from the streaming response.AmA tool has started execution.BbAction taken by a URL policy rule.CiURL security policy with two-tier allow/deny override \xe2\x80\xa6BnURL safety classification for SSRF protection.BhVFS (virtual file system) configuration.B`AGENTS.md discovery and loading.oImage alignmentDkReturn cached image bytes on hit, updating <code>last_accessed_at</code>\xe2\x80\xa6CmBuild a cache key from server name, tool name, and schema \xe2\x80\xa6DfStore image bytes in the cache. Atomic write via <code>.tmp</code> \xe2\x80\xa6ChCall a tool directly (-P TOOL JSON_ARGS) Example: -P \xe2\x80\xa6ChCall a tool on a specific server, returning the text \xe2\x80\xa6ClSignal command completion. Called once, after all output \xe2\x80\xa6CeIf flow_control=true, does invoking end the turn? \xe2\x80\xa6BlShared command execution for chibi binaries.CnFetch content from a URL with a 30-second timeout and 1 MB \xe2\x80\xa6CkFinal component of the path, or <code>None</code> for root.AcFind a tool by name0BhParse spawn options from tool arguments.CjScans a JSONL file to extract count, tokens, and first \xe2\x80\xa6BjLoad chibi from a specific home directory.ClGet an array value, returning None if key missing or not \xe2\x80\xa6CbGet a config field value by path. First checks \xe2\x80\xa6CkGet a config field value by path (e.g., \xe2\x80\x9cmodel\xe2\x80\x9d, \xe2\x80\x9c\xe2\x80\xa60ChReturns the path to the lock file for this partition \xe2\x80\xa6CmString-keyed overrides (highest priority, freeform escape \xe2\x80\xa6AkPartitioned Context StorageDeRead a file, validated against <code>file_tools_allowed_paths</code>.CiAccumulated reasoning/thinking content from the response.CiReasoning configuration (effort, max_tokens, exclude, \xe2\x80\xa6CeSet a config field by path (e.g., \xe2\x80\x9cmodel\xe2\x80\x9d, \xe2\x80\x9c\xe2\x80\xa60CfSet model for current context (persists to local.toml)AmVFS-backed tool output cache.BlVFS tools for virtual filesystem operations.BkSingle cache entry for JSONL serialisation.CfCheck inbox for a specific context and process any \xe2\x80\xa6AgUnified input from CLI.CdClear tool cache (\xe2\x80\x93clear-cache/\xe2\x80\x93clear-cache-for)C`Fuel budget status update (verbose-tier in CLI).BmNo inbox messages for context (verbose-tier).CiEntry for inbox.jsonl file - messages from other contextsBjStatistics returned after an index update.CkAppend-only migration list. Never edit existing entries \xe2\x80\xa6ClAbstraction over how command results and diagnostics are \xe2\x80\xa6BmPersistent username (-u): saves to local.tomlBfLog all API requests to requests.jsonlAhSend a prompt to the LLMChTrait providing path computation methods for context \xe2\x80\xa60CbTool choice - either a mode or a specific functionAoA tool has completed execution.BlStorage backend for the virtual file system.CjAllow fetching images over plain HTTP (default: false, \xe2\x80\xa6CaApply an edit operation to content, returning \xe2\x80\xa6B`Map intensity to ASCII characterChOptional bloom filter file path, relative to context \xe2\x80\xa6ClCheck read permission. Always succeeds \xe2\x80\x94 all zones are \xe2\x80\xa6Bmchibi-core: Embeddable core library for chibiEdResolve chibi home directory: <code>CHIBI_HOME</code> env &gt; <code>~/.chibi</code>BdColor for code block language labelsBmAuto-destroy this context at a Unix timestampBmAuto-destroy at this timestamp (0 = disabled)CiAuto-destroy this context at the given Unix timestamp \xe2\x80\xa6CfCalculate how many messages to drop during rolling \xe2\x80\xa6BdEmit a transcript entry for display.CnEmit a typed command-path event. Clients filter and format \xe2\x80\xa6CmSet the entry type (e.g., \xe2\x80\x9cmessage\xe2\x80\x9d, \xe2\x80\x9ctool_call\xe2\x80\x9d, \xe2\x80\xa6DhMap <code>io::ErrorKind</code> to a stable coarse-grained error code \xe2\x80\xa6CgFile access tools for reading files and cached tool \xe2\x80\xa6CiFormat a number, omitting trailing \xe2\x80\x9c.0\xe2\x80\x9d for integers.BnGet the full input schema for a specific tool.CkGet display status for a context: Some(\xe2\x80\x9c[active]\xe2\x80\x9d), \xe2\x80\xa6BaGet a string value with a defaultAnGet a u64 value with a defaultEeSimple glob matching: <code>*</code> matches any sequence, <code>?</code> matches \xe2\x80\xa6BhGet the path to a context\xe2\x80\x99s goals file0BhGet the path to a context\xe2\x80\x99s inbox fileCdCheck whether a string is a <code>vfs://</code> URI.CjLoad goals for a context (returns empty string if file \xe2\x80\xa6CjLoad todos for a context (returns empty string if file \xe2\x80\xa6CmLoad all tools from the plugins directory by calling each \xe2\x80\xa60CiMaximum tokens for reasoning (mutually exclusive with \xe2\x80\xa6AjMaximum tokens to generateChReturns the effective max tokens threshold. Enforces \xe2\x80\xa6CiRotate when estimated token count reaches this threshold.AcMax tokens overrideCjMerge with an optional override config (from LocalConfig).BaMerge with per-context overrides.DfMerge with another ReasoningConfig, where <code>other</code> takes \xe2\x80\xa6DkMerge with another ApiParams, where <code>other</code> takes precedence \xe2\x80\xa6BhModel metadata retrieval and formatting.BdParse CLI arguments from environmentCgParse a comma-separated list of debug keys (e.g. \xe2\x80\x9c\xe2\x80\xa6ChArchived read-only partitions, ordered oldest to newest.C`Peek at a context\xe2\x80\x99s inbox without clearing it.BmWhether to persist the switch to session.jsonAbPrint help messageBmFind references to a given name in the index.BgSave goals for a context (atomic write)BgSave todos for a context (atomic write)BhGet the path to a context\xe2\x80\x99s todos file0BgTool calls extracted from the response.AoGet the number of loaded tools.CfURL security policy (None = use permission handler \xe2\x80\xa6BnURL security policy for sensitive URL handlingAlURL security policy override2AnWhether the result was cached.CnCached state about the active partition, avoiding repeated \xe2\x80\xa6CjUpper bound on backoff delay regardless of doubling or \xe2\x80\xa6CkManages a lockfile for a context directory. The lock is \xe2\x80\xa6CbMetadata for context (stored in context_meta.json)C`Environment variable names for config overrides.CgGrouped image rendering/fetching/caching configuration.AlInspectable things via -n/-NBeOptions for loading a Chibi instance.0CiSummary of all tools available after load (verbose-tier).DnPer-context config from <code>~/.chibi/contexts/&lt;name&gt;/local.toml</code>BhLockfile content from the bridge daemon.BoLockfile content written atomically on startup.lShow versionAmOptions for querying symbols.AlTool filtering configurationBlBuilt-in URL categories for policy matching.CkVCS markers to look for when walking up the directory tree.AiMetadata for a VFS entry.CkAgent tools for spawning sub-agents and retrieving content.ClCheck write permission based on caller identity and path \xe2\x80\xa6BoClear the tool output cache for current contextAoPath to a context\xe2\x80\x99s directory0AnPath to the context directory.BeContext CRUD operations for AppState.CgVerbose diagnostic messages collected during execution.CgEmit a result string (the primary output of a command).B`Enable ANSI (16-color) renderingBdNumber of entries in this partition.BfNumber of entries in active partition.CcFormat a cost value as dollars (e.g., \xe2\x80\x9c$3.00\xe2\x80\x9d).CaFormat a byte count into a human-readable string.C`Get a bool value with a default (commonly false)CeShared HTTP client for URL fetching (agent_tools, \xe2\x80\xa6CmInsert refs from plugin output into the database. Returns \xe2\x80\xa6BhCheck if a tool has an MCP virtual path.BcCheck if a tool name is a VFS tool.BhList all inspectable config field paths.CjList all inspectable config field paths. Note: api_key \xe2\x80\xa60CjLoad a named prompt from ~/.chibi/prompts/.md, falling \xe2\x80\xa6CiReturns the effective max entries threshold. Enforces \xe2\x80\xa6BoRotate when entry count reaches this threshold.CkMerge a local (per-context) tools config on top of this \xe2\x80\xa6AkVFS permission enforcement.BeRender image with 16-color ANSI codesAdImage rendering modeChSend a prompt to the LLM with streaming response via \xe2\x80\xa6CkReusable async primitive \xe2\x80\x94 both tool-facing and internal.CfPerforms a set of actions within a synchronous update.BaSampling temperature (0.0 to 2.0)AdTemperature overrideBhEstimated token count in this partition.BjEstimated token count in active partition.BeTool choice mode or specific functionCbTry to acquire an exclusive lock without blocking.CfReturn the <code>vfs:///</code> URI for a cache entry.CkBuffer chunk, render complete lines. Passthrough if not \xe2\x80\xa6ClInitial backoff delay for transient errors (doubled each \xe2\x80\xa6BlTop-level bridge config from mcp-bridge.tomlCdOld cache entries removed on startup (verbose-tier).BlCleanup old cache entries (\xe2\x80\x93cleanup-cache)BoSemantic events emitted on the command path \xe2\x80\xa6BjMetadata entry for a context in state.jsonCcHolds the list of known contexts. Session state \xe2\x80\xa6BjEmitted at the start of each agentic turn.BdOptions controlling index behaviour.AfList all contexts (-L)AnFilesystem-backed VFS storage.CmMaximum number of attempts per tool summary before giving \xe2\x80\xa6BoModels config containing model aliases/metadataChRaw CLI config as parsed from ~/.chibi/cli.toml Uses \xe2\x80\xa6CiA resolved tool path \xe2\x80\x94 either an OS path or a VFS path.CfLog response metadata (usage stats, model info) to \xe2\x80\xa6CdTrait for handling response events during prompt \xe2\x80\xa6B`Return to the user (turn ended).AkResult from a search query.CmMCP server definition \xe2\x80\x94 either a local stdio process or \xe2\x80\xa6CgOptions for sub-agent spawning. Designed to grow as \xe2\x80\xa6DoZero-sized newtype so <code>Renderer&lt;StdoutWriter&gt;</code> can persist \xe2\x80\xa6C`Persistent summary cache backed by a JSONL file.BnMetadata for tool behavior in the agentic loopAiKind of entry in the VFS.CmReturns a clone of the current active partition state for \xe2\x80\xa6BoAppends a single entry to the active partition.BaAtomically write bytes to a file.ChClassify a URL as safe or sensitive for SSRF protection.CmCoding tools for shell execution, file system navigation, \xe2\x80\xa6AjPath to context.jsonl file0AoGet the contexts directory root0AjEnable ASCII art renderingCnExecute a hook on all tools that registered for it Returns \xe2\x80\xa60C`Execute a tool by name with the given arguments.CaExecute a tool with the given arguments (as JSON)0CfExtract text content from MCP response content blocks.CnThe final result to send back to the LLM (may be truncated \xe2\x80\xa6BmIs this a flow control tool? (default: false)CiGet the previous context name, or error if none availableAgColor for image markersCkWhether we\xe2\x80\x99re currently inside a reasoning/thinking blockCdReturn a human-readable summary of the index status.BcCheck if a tool name is a file toolCiLog data to a JSONL file in the specified context\xe2\x80\x99s \xe2\x80\xa6CeOverride project root directory (default: cwd, or \xe2\x80\xa6CeProject root directory (always resolved, never None).DcOverride the project root directory. If <code>None</code>, uses \xe2\x80\xa610AeProject root overrideEhRead <code>api_key</code> from <code>&lt;home&gt;/config.toml</code> (chibi\xe2\x80\x99s main \xe2\x80\xa6AiRender image as ASCII artBoResolve a path string relative to project_root.CdCheck if any rule in the list matches the given URL.ChSend a JSON request to the bridge and read the response.BlOverride the fallback target (used by hooks)BeSet username (persists to local.toml)CnCheck if content should be cached based on size threshold. \xe2\x80\xa6DeSpawn <code>chibi-mcp-bridge</code> as a detached background process.CiSpawn or connect to an MCP server and discover its tools.AdPath to summary file0AgColor for table bordersAmColor for think block bordersCnSet the tool call ID for correlating tool_call/tool_result \xe2\x80\xa6CjTool call ID for correlating tool_call and tool_result \xe2\x80\xa6CjWalk the project, detect changes, dispatch to plugins, \xe2\x80\xa6CiCLI flag: enable verbose diagnostics (overrides cli.toml)CjBridge an async VFS future into synchronous tool dispatch.CkReturn the VFS path (without URI scheme) for a cache entry.C`Locate the <code>chibi-mcp-bridge</code> binary.CjExpired contexts auto-destroyed on startup (verbose-tier).ClSide effects of command execution that binaries may need \xe2\x80\xa6AgEdit operation variantsCaEmitted when the model returns an empty response.CfMetadata for special entries (anchors, system prompts)BnFuel budget exhausted \xe2\x80\x94 always shown in CLI.BoTarget for control handoff after tool execution0CjInbox messages injected into prompt (verbose-tier in CLI).CaA connected MCP server with its discovered tools.CeMarkdown rendering color scheme (re-exported from \xe2\x80\xa6BiShow model metadata from registry (-m/-M)BiModel metadata from ~/.chibi/models.toml.CiCLI output handler \xe2\x80\x94 text to stdout, diagnostics to \xe2\x80\xa6BiMetadata for a single archived partition.CaOptions for controlling prompt execution behaviorAoDirection for head/tail readingAhRename a context (-r/-R)BhEvents emitted during prompt processing.CnReserved caller name with unrestricted write access to all \xe2\x80\xa6BnManages the lifecycle of MCP server processes.CkA new response is starting (used to reset state between \xe2\x80\xa6CfStorage configuration for partitioned context storage.AjSummary generation config.BlUsername saved for a context (verbose-tier).AiAll VFS tool definitions.BdBuild a gateway from ResolvedConfig.BdEnable image cache for remote imagesCjCleanup old cache entries across all contexts (removes \xe2\x80\xa6BlClear the current context (archive history).CdClear a context, executing PreClear/PostClear hooks.BgEmit content that may contain markdown.BoEnsure parent directory exists for a file path.BgFallback tool (call_agent or call_user)CnFallback tool when LLM doesn\xe2\x80\x99t call call_agent/call_user \xe2\x80\xa6BgOverride fallback tool for this context2BmBuild a MarkdownConfig from a ResolvedConfig.BoThe full text response accumulated from chunks.CkGenerate a new UUID for message IDs (used as serde default)BfCheck if a tool name is an agent tool.AaList all contextsBaList all available context names.BlLoads manifest from disk with error context.BmOmit tools from API requests (pure text mode)CfOmit tools from API requests (pure text mode, from \xe2\x80\xa6CfOmit tools from API requests entirely (pure text mode)BbPer-context no tool calls override2CjQuery symbols from the index, filtering by name/kind/file.BgUpdates state after appending an entry.ClRender a list of parse events, intercepting image events \xe2\x80\xa6BdRender images inline in the terminalBlResponse metadata (usage stats, model info).BiPersists the manifest to disk atomically.ChShow thinking/reasoning content (verbose overrides this)CcShow thinking/reasoning content (verbose overrides)0BmWhether to display thinking/reasoning contentBjConvert this tool definition to API formatCk<code>ToString::to_string</code>, but without panic on OOM.000000BhSet the fallback handoff target overrideCgCreate a new output handler with markdown rendering \xe2\x80\xa6BnEmitted after a batch of tool calls completes.BeArchive a context\xe2\x80\x99s history (-a/-A)BdTool info as returned by the bridge.CaBuilt-in tool definition for declarative registryCdA sink that collects responses for programmatic use.AiCompact a context (-z/-Z)CgCentral source of truth for all configuration defaults.CkA context was renamed. CLI should update session if needed.CcContext window nearing limit (verbose-tier in CLI).AiDestroy a context (-d/-D)C`Execution flags \xe2\x80\x94 ephemeral command modifiers.AiAll file tool definitionsBgFile path access classification result.CdHeartbeat interval for lockfile freshness (seconds).AkImage alignment in terminalChExtension methods for Inspectable that depend on CLI \xe2\x80\xa6BaJSONL output sink for chibi-json.CeMaximum number of simultaneous tool calls allowed \xe2\x80\xa6BlConfiguration for markdown stream rendering.BoStreaming markdown renderer with TTY detection.CdMCP bridge tools loaded successfully (verbose-tier).CiCLI-extended resolved configuration with presentation \xe2\x80\xa6ClFully resolved configuration with all overrides applied. \xe2\x80\xa6AmResponse format specificationCePolicy controlling when the active partition rotates.CeRemote server accessed via streamable HTTP transport.AlTool choice mode for the APICbPer-tool diagnostic message (verbose-tier in CLI).DgURI scheme prefix (<code>vfs://</code>). Note: valid URIs require a \xe2\x80\xa6CiReturn the compiled-in default for a named prompt, or \xe2\x80\xa6CjFetch model metadata through the gateway (registry \xe2\x86\x92 \xe2\x80\xa6BaTimestamp of first entry, if any.CmDebug: force markdown rendering even when stdout is not a \xe2\x80\xa6CmGet file mtime as unix timestamp, or None if file doesn\xe2\x80\x99\xe2\x80\xa6BbIn-memory grep with context lines.BdWhether any tool calls were present.ChInsert symbols from plugin output into the database. \xe2\x80\xa6CcCheck if a tool name belongs to the coding tool setBoAggregate tool info from all connected servers.CjCollect AGENTS.md content from all standard locations, \xe2\x80\xa6ChLoad goals for a specific context (alias for load_goals)BfLoad MCP tools from the bridge daemon.ChLoad todos for a specific context (alias for load_todos)AoMarkdown rendering color schemeCiShow model metadata in TOML format (settable fields only)CgReturns true if the active partition should be rotated.DgParse server and tool name from an <code>mcp://server/tool</code> path.CnEnable prompt caching (default: true, mainly for Anthropic \xe2\x80\xa6CdRename specified context (requires OLD and NEW args)CiResolve the full configuration, applying overrides in \xe2\x80\xa6BnResolve configuration for the current context.CkParameter names whose values should appear in tool-call \xe2\x80\xa60CeSwitch to context (persistent). Use \xe2\x80\x98new\xe2\x80\x99 for \xe2\x80\xa6CjSwitch to a new context, updating previous_context and \xe2\x80\xa6CcTouch the lockfile by updating its timestamp field.BhPath to partitioned transcript directory0CdWrite bridge lockfile atomically (O_CREAT | O_EXCL).AjAll agent tool definitionsBaAll inboxes empty (verbose-tier).CgCheck all context inboxes and process any messages (-b)BoCLI-specific response sink for terminal output.AoName of the built-in goals toolChResolved image rendering mode after capability detectionBnInbox messages being processed (verbose-tier).CiPath is outside allowed directories \xe2\x80\x94 requires user \xe2\x80\xa6ClReasoning configuration for models that support extended \xe2\x80\xa6ClReasoning effort level for models that support it (e.g., \xe2\x80\xa6AiSet system prompt (-y/-Y)CaSystem prompt saved for a context (verbose-tier).AoName of the built-in todos toolBhProperty definition for a tool parameterBjA transcript entry to be logged/displayed.ChEntry for JSONL transcript file (now also context.jsonl)CjAppend a message to a context\xe2\x80\x99s inbox with exclusive \xe2\x80\xa6CkApply all simple-override fields from this local config \xe2\x80\xa6BeArchive specified context\xe2\x80\x99s historyCnReturns the bytes-per-token value for estimation. Enforces \xe2\x80\xa6ClBytes per token for estimation heuristic. Lower values = \xe2\x80\xa6BjMaximum total size of image cache in bytesCjCheck inbox for specified context and process any messagesCaClear the tool output cache for specified contextCjClose an open reasoning/thinking block by emitting the \xe2\x80\xa6AiCompact specified contextChDestroy specified context (permanently removes all data)BdDestroy a context and its directory.DdCVS-specific root detection. Walks up while <code>CVS/</code> is \xe2\x80\xa6BdDetect language from file extension.DeDetect VCS root by walking up from <code>start</code> looking for \xe2\x80\xa6CfEstimates token count from text using configurable \xe2\x80\xa6CaExecute a command with full lifecycle management.CnFill cache gaps by generating summaries for tools that aren\xe2\x80\xa6ChFilter messages for compaction: keep system messages \xe2\x80\xa6AjForce handoff to user (-x)BaForce handoff to user immediatelyBoHide tool call display (verbose overrides this)BjHide tool call display (verbose overrides)CeHide tool call display by default (verbose overrides)BmGet the path to a context\xe2\x80\x99s inbox lock fileAkInspect a context property.CnInspect current context (system_prompt, reflection, todos, \xe2\x80\xa6BlCheck if a tool name is a core builtin tool.0CeLoad CLI config with per-context overrides merged in.BeLoad the reflection content from ~\xe2\x80\xa6CgReturns the effective max age threshold in seconds. \xe2\x80\xa6CmRotate when the partition age exceeds this (seconds since \xe2\x80\xa6B`The original untruncated result.CcParse CLI arguments from a slice (testable version)CcPoll for the bridge lockfile to appear (up to 10s).ClRead entries from a JSONL file, skipping malformed lines \xe2\x80\xa6B`Remove the lockfile on shutdown.CgRender LLM output as formatted markdown in the terminalDkExtract an OS path from a <code>ResolvedPath</code>, returning an error \xe2\x80\xa6AmResponse format specificationCkRolling compaction: strips messages and integrates them \xe2\x80\xa6BaCurrent rotation policy settings.ClWhether to display tool call diagnostics (independent of \xe2\x80\xa6BbBackground color for table headersBfConvert ResolvedConfig to ChatOptions.CnAtomically create lock file with timestamp using O_CREAT | \xe2\x80\xa6BmValidate resolved config against loaded toolsAkAll coding tool definitionsAnBridge response for call_tool.CiA context was destroyed. CLI should update session if \xe2\x80\xa6AgContext selection mode.CfGrouped fetch settings passed into image rendering \xe2\x80\xa6BkProcessed N context inboxes (verbose-tier).BcJSONL response sink for chibi-json.CaManages partitioned storage for a single context.BaDirect plugin invocation from CLIAgUsername override mode.CnFilename of the current active (write) partition, relative \xe2\x80\xa6CmApply all migrations whose version hasn\xe2\x80\x99t been recorded \xe2\x80\xa6CgFull permission check: fire the hook, then evaluate \xe2\x80\xa6CkClear the tool cache for a context (deletes all entries \xe2\x80\xa6CnRecursively collect a directory tree into <code>output</code>.DbEarly-return from <code>get_field</code> for simple config fields.CmPer-invocation config overrides from -s/\xe2\x80\x93set (KEY=VALUE \xe2\x80\xa6DbEarly-return from <code>set_field</code> for simple config fields.CcPath to the old context.json format (for migration)0BnDispatch a command to the appropriate handler.BcEnable truecolor (24-bit) renderingCmExecute dir_list: produce an indented directory tree with \xe2\x80\xa6BjExecute an MCP tool via the bridge daemon.AkCopy a file within the VFS.AlGet metadata for a VFS path.B`List entries in a VFS directory.BdMove (rename) a file within the VFS.AkExecute a VFS tool by name.AkForce handoff to agent (-X)AfForce handoff to agentCgGenerate a concise summary of an MCP tool using an LLM.CgGet tool schema(s) by calling plugin with \xe2\x80\x93schema \xe2\x80\xa6CdCheck if the context is dirty (needs prefix rebuild)ClReturns true if a transcript entry should be included in \xe2\x80\xa6CcLast time this context was used (0 = never updated)BhLoads with custom storage configuration.BfMaximum image height in terminal linesAnPresence penalty (-2.0 to 2.0)CjReads all entries from all partitions (archived + active).BmRender image with 24-bit truecolor ANSI codesDfParse a <code>vfs://</code> URI parameter into a <code>VfsPath</code>.ChRotates the active partition if thresholds are exceeded.CkShow last N log entries (current context). Use negative \xe2\x80\xa6CkAttempt to render an image inline with the appropriate modeClEmitted when the agentic loop continues with a follow-up \xe2\x80\xa6AmAll built-in tool definitionsCaPer-context CLI overrides from contexts//cli.tomlBlLLM-based compaction started (verbose-tier).CjConfig field listing \xe2\x80\x94 binary emits its full field list.AoBridge response for list_tools.CiPermission handler for gated operations (file writes, \xe2\x80\xa60CgResult of collecting a streaming response from the LLM.B`Atomically write JSON to a file.BdAtomically write a string to a file.AlColor for blockquote bordersBjCalculate left padding for image alignmentCbCheck all context inboxes and process any messagesBbRemove the entire cache directory.BfConfiguration resolution for AppState.AmPath to context metadata file0ClPath to dirty context marker file (.dirty) A \xe2\x80\x9cdirty\xe2\x80\x9d \xe2\x80\xa60CfChecks if an entry with the given ID exists in any \xe2\x80\xa6CmUse context for this invocation only (ephemeral, does not \xe2\x80\xa6CmExecute fetch_url: HTTP GET a URL and return the response \xe2\x80\xa6ChExecute file_edit: apply a structured edit to a file \xe2\x80\xa6AfExecute file_grep toolAfExecute file_head toolAfExecute file_tail toolAlExecute a file tool by name.C`Sink-free execution core for a single tool call.AnCreate a directory in the VFS.CaOptional override for the fallback handoff targetCmAsynchronously fetch image bytes from a URL with size and \xe2\x80\xa6C`Format a capability variant as a display string.CfFormat model metadata as a JSON value for tool output.CkFormat model metadata as TOML for <code>models.toml</code>.AoFrequency penalty (-2.0 to 2.0)BgGenerate a unique cache ID. Format: \xe2\x80\xa6ClLook up a specific file tool definition by name. Returns \xe2\x80\xa6BmGet metadata for any tool (plugin or builtin)CjHandle a single TCP connection: read one JSON request, \xe2\x80\xa6BdCheck if a bridge lockfile is stale.CmCheck if the lockfile is stale (heartbeat timestamp older \xe2\x80\xa6AoLoads a bloom filter from disk.AeLoad context metadataClLoad local config for a context (returns default if doesn\xe2\x80\xa6AoLoad chibi with custom options.BoGet the path to a context\xe2\x80\x99s local config file0BnPercentage of terminal width to use for imagesEeMerge two optional string vecs: append <code>local</code> to <code>global</code>, \xe2\x80\xa6CnParse an Inspectable from a string, returning an io::Error \xe2\x80\xa6BmReturn the project-local chibi directory (\xe2\x80\xa60BfReturns ratatoskr\xe2\x80\x99s package version.CcExtract a required string parameter from tool args.CiExtract a required u64 parameter, returning a helpful \xe2\x80\xa6ChResolve a file path from the <code>path</code> argument.BdSave context metadata (atomic write)BnSave local config for a context (atomic write)CkResolve config, acquire context lock, and send a prompt \xe2\x80\xa6CmSet system prompt for specified context (requires CTX and \xe2\x80\xa6ClReads file or fetches URL, then delegates to spawn_agent \xe2\x80\xa6CkBuild a concise summary string from a tool\xe2\x80\x99s declared \xe2\x80\xa6CdReturns the total entry count across all partitions.ChGenerate the truncated stub message shown to the LLM \xe2\x80\xa6AjOptional username overrideBnLLM-based compaction completed (verbose-tier).BjContinue with another prompt (agent loop).ClFully resolved configuration with all overrides applied. \xe2\x80\xa6CiSystem prompt used when processing inbox messages via \xe2\x80\xa6BeDisplay settings for rendered images.CmConfig field inspection \xe2\x80\x94 binary resolves with its full \xe2\x80\xa6AnShow current context info (-l)CjRaw deserialization target for ReasoningConfig. Mutual \xe2\x80\xa6C`Default cost tier for resolving subagent presetsCiTerminal rendering capabilities detected from environmentAiSpecific function to callCiCache of active partition state per context, avoiding \xe2\x80\xa6BoAutomatically cleanup old cache entries on exit000ChBuilds a bloom filter for search terms found in entries.ClBuild the request body for the LLM API, applying all API \xe2\x80\xa6CkCollect names of all built-in tools (core, file, agent, \xe2\x80\xa6BdMaximum age of cached images in daysCiHelper for current/specific context command dispatch. \xe2\x80\xa6BlResolve and classify a file path against \xe2\x80\xa6BkClassify a tool\xe2\x80\x99s type based on its name.DjClean up tool cache entries older than <code>max_age_days</code> for a \xe2\x80\xa6CaSet username for this invocation only (ephemeral)CnExclude entire tool categories: \xe2\x80\x9cbuiltin\xe2\x80\x9d, \xe2\x80\x9cfile\xe2\x80\x9d, \xe2\x80\xa6AnExecute an agent tool by name.AgExecute file_lines toolAhExecute from ChibiInput.CjExecute glob_files: walk the directory tree respecting \xe2\x80\xa6ClExecute grep_files: regex-search files under a directory \xe2\x80\xa6ChExecute shell_exec: run a command with a timeout and \xe2\x80\xa6BhDelete a file or directory from the VFS.AgExecute write_file toolC`Fetch a remote image over HTTP(S) and decode it.CaLook up a specific agent tool definition by name.ChMark the context as clean (remove dirty marker after \xe2\x80\xa6CiMark the context as dirty (triggers rebuild on next load)BkMaximum bytes to download for remote imagesChConvert bridge tool info into a chibi <code>Tool</code>.CkBuild a MarkdownConfig with safe defaults (used when no \xe2\x80\xa6BfPartitions that were actually scanned.BgPartitions skipped due to bloom filter.DkOptional permission handler for gated operations. If <code>None</code>, \xe2\x80\xa60BgProcess all tool calls from a response.CcExtract a required 1-indexed line number parameter.CmBuild CLI ResolvedConfig from Chibi facade. Combines core \xe2\x80\xa6CmResolve model name using models.toml aliases If the model \xe2\x80\xa6ChCLI flag: show thinking/reasoning content (overrides \xe2\x80\xa6CmCost tier for resolving subagent presets. Default: \xe2\x80\x9cfree\xe2\x80\xa6CkCost tier used when resolving subagent presets (e.g. \xe2\x80\x9c\xe2\x80\xa6BbSubagent preset cost tier override2BcSwap implied and previous contexts.BlResolve and validate a file path against \xe2\x80\xa6CgName of the built-in call_user tool for control handoff0CdResult of handling a final (non-tool-call) response.CiPer-context image config overrides (all fields optional).BbResult of executing a single tool.ChApply environment variable overrides onto a resolved \xe2\x80\xa6CiApply spawn options to a cloned config, returning the \xe2\x80\xa6CiTwo-phase eviction: age-based, then LRU by size. Also \xe2\x80\xa6C`Get the path to a context\xe2\x80\x99s system prompt file0CmDetect project root from VCS markers, trying standard VCS \xe2\x80\xa6CfCheck if an explicit end-turn (call_user) has been \xe2\x80\xa6CkConvert transcript entries to JSON messages, preserving \xe2\x80\xa6CcEvaluate permission from pre-computed hook results.CjEvaluate a URL against a policy. Returns the action to \xe2\x80\xa6AnExecute a coding tool by name.ClExecute index_query: search for symbols or references in \xe2\x80\xa6CiExecute a single tool call with all hooks (sequential \xe2\x80\xa6ClExtract a string pair from an Option&lt;Vec&gt;. Returns \xe2\x80\xa6ClFinalize a compaction operation by writing the anchor to \xe2\x80\xa6CiConvert JSON messages back to transcript entries (for \xe2\x80\xa6CjShow full model metadata in TOML format (with pricing, \xe2\x80\xa6BiAllow parallel tool calls (default: true)ClRead the bridge address from the lockfile, verifying PID \xe2\x80\xa6CkResolve the rendering mode based on config and terminal \xe2\x80\xa6BnCheck if this context should be auto-destroyedCnConvert tools to OpenAI-style function definitions for the \xe2\x80\xa60CkValidate that a 1-indexed inclusive line range is valid \xe2\x80\xa6ChName of the built-in call_agent tool for control handoff0BmSentinel: 0 = fetch from ratatoskr at runtimeBnCompiled-in default prompts, embedded from \xe2\x80\xa6ChName of the built-in model_info tool for metadata lookup0CcMCP bridge unavailable at load time (verbose-tier).BdName of the built-in reflection tool0BfAppend a single entry to context.jsonlCjAppend a single entry to transcript (the authoritative \xe2\x80\xa6BgApply hook overrides from hook results.C`Build tool info list for pre_api_tools hook dataCfWhether to build bloom filter indexes for archived \xe2\x80\xa6ClExecute a built-in tool by name. Returns Some(result) if \xe2\x80\xa60BfApply an edit operation to an OS file.ClExecute index_status: return a human-readable summary of \xe2\x80\xa6CkExecute index_update: walk the project, detect changes, \xe2\x80\xa6CkExecute read_context: read the state of another context \xe2\x80\xa6CjExpand attached short args like -Dname to -D name This \xe2\x80\xa6CbFetch a URL with streaming size limit and timeout.CgLook up a specific builtin tool definition by name. \xe2\x80\xa60CeCLI flag: hide tool call display (overrides cli.toml)CiThe full combined prompt last sent to API (raw + hook \xe2\x80\xa6AiShow current context infoBnLoad and clear a context\xe2\x80\x99s inbox atomically.BnMerge a MarkdownStyle with optional overrides.CnParse the operation string and required parameters into an \xe2\x80\xa6CkMaximum estimated tokens per partition before rotation. \xe2\x80\xa6ChRead entries from context.jsonl (the LLM\xe2\x80\x99s working \xe2\x80\xa6CdResolve an allowed path entry (tilde expansion + \xe2\x80\xa6ClResolve \xe2\x80\x9cnew\xe2\x80\x9d or \xe2\x80\x9cnew:prefix\xe2\x80\x9d or \xe2\x80\x9c-\xe2\x80\x9d context \xe2\x80\xa6DlResolve project root: explicit path &gt; <code>CHIBI_PROJECT_ROOT</code> \xe2\x80\xa6CkConvert chibi\xe2\x80\x99s JSON message format to ratatoskr Message.CdReference to the transcript entry ID this anchor \xe2\x80\xa6CnValidate that a single 1-indexed line number is within the \xe2\x80\xa6AdImage rendering modeCmMaximum line buffer size (1 MB). Lines exceeding this are \xe2\x80\xa6CkPer-context markdown style overrides (all fields optional).FeApply <code>PresetParameters</code> as defaults to <code>ApiParams</code>. Fills <code>None</code>\xe2\x80\xa6BnReturns whether bloom filters should be built.AnGet metadata for builtin tools0EfCollect <code>tool_call_id</code>s from messages that have <code>tool_calls</code> \xe2\x80\xa6EeDecode a <code>data:image/...;base64,...</code> URI into a <code>DynamicImage</code>.CgEnsure the bridge daemon is running, spawning it if \xe2\x80\xa6DdEnsure <code>context_window_limit</code> is populated in the config.BfApply an edit operation to a VFS file.CiExtract \xe2\x80\x93home flag value from args (before full CLI \xe2\x80\xa6BmTimeout in seconds for fetching remote imagesB`Get or create a context by name.BlHandle the final text response from the LLM.CkMaximum entries per partition before rotation. When the \xe2\x80\xa6CkReturn the path to the project\xe2\x80\x99s codebase index database.0ClRead all entries from the context file (context.jsonl) - \xe2\x80\xa6BnRead prompt from piped stdin (reads until EOF)CgResolve CLI-specific context names in Command variants.CgSend a prompt with streaming output via a ResponseSink.ChSet model for specified context (requires CTX and MODEL)CkSet a custom system prompt for a specific context. This \xe2\x80\xa6ChPath to JSONL transcript (transcript.jsonl) - legacy \xe2\x80\xa60CeWrite entries to context.jsonl (full rewrite, atomic)CjWrite header comments with provider, capabilities, and \xe2\x80\xa6ClName of the built-in read_context tool for cross-context \xe2\x80\xa60ClName of the built-in send_message tool for inter-context \xe2\x80\xa60CiBuilder for creating TranscriptEntry instances with a \xe2\x80\xa6ClAnnotate the fallback tool\xe2\x80\x99s description to indicate it\xe2\x80\xa6DgApply <code>Option</code>-field overrides from a source struct to a \xe2\x80\xa6CcLook up summary_params for a built-in tool by name.0AoCreate an archival anchor entry0BiCreate a transcript entry for a tool call0ClColodore-inspired color scheme (Commodore 64/128 palette \xe2\x80\xa6CgAuto-destroy this context after N seconds of inactivityB`Filter tools based on config \xe2\x80\xa6CjGet created_at timestamp for a context from state.json \xe2\x80\xa6CdCheck if there are parameter comments worth writing.CiCheck whether a cache entry\xe2\x80\x99s creation timestamp is \xe2\x80\xa6BdLoad the reflection prompt from ~\xe2\x80\xa6BnLoad the system prompt for a specific context.ChLoads with custom storage configuration and optional \xe2\x80\xa6CeLock heartbeat interval in seconds. Intentionally \xe2\x80\xa6ClLog an API request to requests.jsonl if debug logging is \xe2\x80\xa6AfRename current contextCaRender markdown content to stdout if appropriate.DfResolve <code>context_window_limit</code> from ratatoskr\xe2\x80\x99s model \xe2\x80\xa6C`Set the permission handler for gated operations.CiTracks mtime of system_prompt.md to detect external editsCfConvert chibi\xe2\x80\x99s ReasoningConfig to ratatoskr\xe2\x80\x99s \xe2\x80\xa6ClDefault bytes per token for estimation (conservative for \xe2\x80\xa6CdArchive current context history (save to transcript)CiClean up tool cache entries for all contexts. Returns \xe2\x80\xa6C`Compact a specific context by name (for -Z flag)BmCompact current context (summarize and clear)CfDestroy current context (permanently removes all data)BkExecute the built-in update_reflection toolCnCheck whether a caller name is reserved and cannot be used \xe2\x80\xa6C`Convert OpenAI-format tool JSON to ratatoskr \xe2\x80\xa6BfLoad context from the new JSONL formatBmBuild a MarkdownConfig from a ResolvedConfig.CnRead prompt interactively from terminal (dot on empty line \xe2\x80\xa6CgRead all entries from transcript (using partitioned \xe2\x80\xa6CmSend a message from a specified context to another context\xe2\x80\xa6BkMaximum age in days for cached tool outputs000CaBuild the full system prompt with all components.CmFull compaction: summarizes all messages and starts fresh \xe2\x80\xa6BmCreate a compaction anchor entry with summary0BkCreate a transcript entry for a tool result0ClPaths allowed for file tools (empty = defaults to cwd at \xe2\x80\xa6000DcFuel cost of an empty response. Ignored when <code>fuel = 0</code>.CfFuel cost of an empty response (high cost prevents \xe2\x80\xa6CkPer-context fuel cost for empty responses. Ignored when \xe2\x80\xa62CbHandle session state after a context is destroyed.CmMigrate from old context.json format to new context.jsonl \xe2\x80\xa6BjTilde-expand and canonicalize a file path.CiConvert chibi\xe2\x80\x99s ToolChoice to ratatoskr\xe2\x80\x99s ToolChoice.CiNumber of preview characters to show in truncated message000BnWrite parameter availability as TOML comments.BmTarget false positive rate for bloom filters.CiMinimum partition age in seconds (1 minute). Prevents \xe2\x80\xa6BlRolling compaction completed (verbose-tier).CjRolling compaction: LLM selected N messages to archive \xe2\x80\xa6CcRolling compaction fallback: dropping oldest N% \xe2\x80\xa6BlCreate a transcript entry for a user message0CkShared implementation for file_head and file_tail. When \xe2\x80\xa6CjSink-free send_message execution. Collects diagnostics \xe2\x80\xa6EhGenerate a unique context name for <code>-c new</code> or <code>-c new:prefix</code> \xe2\x80\xa6CnMaximum partition age in seconds before rotation. Rotation \xe2\x80\xa6ClSelect the appropriate permission handler based on trust \xe2\x80\xa6CgSet system prompt for current context (file path or \xe2\x80\xa6CmApply a sequence of key-value overrides, short-circuiting \xe2\x80\xa60CeCollect a streaming response from the LLM API via \xe2\x80\xa6CkDetect terminal rendering capabilities from environment \xe2\x80\xa6ClEnforce mutual exclusivity: effort and max_tokens cannot \xe2\x80\xa6BeCharacter limit for reflection outputBmMaximum characters for reflection tool output1CjSynchronize state.json with filesystem reality. Called \xe2\x80\xa6ClUpdate system_prompt_md_mtime in context_meta to current \xe2\x80\xa6CdConvert all VFS tools to API format for LLM tool \xe2\x80\xa6CiApply request modifications from pre_api_request hook \xe2\x80\xa6CnConvert built-in tools to API format, optionally excluding \xe2\x80\xa60EhEnsure <code>project_root</code> is included in <code>file_tools_allowed_paths</code>\xe2\x80\xa6CnStore the combined system prompt (with hook injections) in \xe2\x80\xa6CfThreshold (in chars) above which tool output is cached000CnDefault maximum tokens per partition before rotation (100k \xe2\x80\xa6BdConvert all file tools to API formatCiLog response metadata to response_meta.jsonl if debug \xe2\x80\xa6CnMigrate legacy transcript.jsonl to partitioned transcript/ \xe2\x80\xa6CeConvert chibi\xe2\x80\x99s ResponseFormat to ratatoskr\xe2\x80\x99s \xe2\x80\xa6CfDefault maximum entries per partition before rotation.BfConvert all agent tools to API format.CjAuto-destroy contexts that have expired based on their \xe2\x80\xa6BeCreate a context_created anchor entry0CmExtract \xe2\x80\x93project-root flag value from args (before full \xe2\x80\xa6BfConvert all coding tools to API formatClBuild a trust-mode permission handler that auto-approves \xe2\x80\xa6CbCreate a transcript entry for an assistant message0CjCreate a transcript entry for a flow-control tool call \xe2\x80\xa60CkAuto-destroy after this many seconds of inactivity (0 = \xe2\x80\xa6CkAuto-destroy this context after N seconds of inactivity \xe2\x80\xa6CfFilter tools based on hook results Multiple hooks: \xe2\x80\xa6BhConvert all built-in tools to API format0CmFull compaction: summarizes all messages and starts fresh \xe2\x80\xa6CnRebuild context.jsonl from transcript.jsonl This creates a \xe2\x80\xa6ChPercentage of messages to drop during rolling compaction0CnAppend an entry to both transcript.jsonl and context.jsonl \xe2\x80\xa6CkCheck if system_prompt.md was modified externally since \xe2\x80\xa6ClCreate a transcript entry for a flow-control tool result \xe2\x80\xa60ChDefault maximum age of a partition in seconds (30 days).CkUpdate the last_activity_at timestamp for a context and \xe2\x80\xa6CfBuild the interactive permission handler for gated \xe2\x80\xa6")